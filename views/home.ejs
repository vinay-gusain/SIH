<!DOCTYPE html>
   <html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <!--=============== CSS ===============-->
      <link rel="stylesheet" href="./assets/css/styles.css">
      <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />

      <title>E-Waste Facility Locator</title>
   </head>
   <body>
      <!--==================== HEADER ====================-->
      <header class="header" id="header">
         <nav class="nav container">
            <a href="#" class="nav__logo">
               <img class="logo" src="assets/img/logo.svg" alt="">
            </a>

            <div class="nav__menu" id="nav-menu">
               <ul class="nav__list">

                  <li class="nav__item">
                     <a href="#locate" class="nav__link">Locate</a>
                  </li>

                  <li class="nav__item">
                     <a href="#credits" class="nav__link">Credits</a>
                  </li>

                  <li class="nav__item">
                     <a href="#redeem" class="nav__link">Redeem</a>
                  </li>
                  
                  <li class="nav__item">
                     <a href="#footer" class="nav__link">Contact</a>
                  </li>
               </ul>

               <div class="nav__buttons">
                  <a href="assets/html/auth.html" class="nav__button-login">log In</a>
                  <a href="assets/html/auth.html" class="nav__button-signin">Sign Up</a>
               </div>

               <!--  Close Button  -->
               <div class="nav__close" id="nav-close">
                  <img class="icon" src="assets/img/close-line.svg" alt="close-icon">
               </div>
            </div>

            <!--  Toggle Button  -->
            <div class="nav__toggle" id="nav-toggle">
               <img class="icon" src="assets/img/menu-line.svg" alt="menu-line">
            </div>
         </nav>
      </header>

      <!--==================== MAIN ====================-->
      <main class="main">
         <!--==================== HOME ====================-->
         <section class="home" id="home">
            <div class="home__container container">
               <div class="home__content">
                  <div class="home__data">
                     <h3 class="home__subtitle">
                        Dispose your E-Waste and earn credits
                     </h3>

                     <h1 class="home__title">
                        E-Waste Facility Locator
                     </h1>

                     <p class="home__description">
                        Find the nearest e-waste facility to recycle all your electronic waste safely and responsibly with government authorised E-Waste disposal facilities.
                     </p>
                     
                     <a href="#locate" class="home__button">
                        Explore Locations
                     </a>
                  </div>
               </div>
            </div>
         </section>
     
         
         <!--==================== LOCATE ====================-->
         <section class="locate" id="locate">
            <div class="locate__container container">
               <div class="locate__content">

                  <h2 class="locate__title">
                     Find the nearest E-Waste Facility
                  </h2>

                  <div class="location__field">
                     <label class="location__label" for="location">Enter your location:</label>
                     <br>
                     <input class="location__input" type="text" id="location" name="location" placeholder="e.g., City, State, Country">
                     <br>
                     <form action="/getCurrLoc" method="POST">
                        <input type="hidden" name="latitude" id="lat" value="">
                        <input type="hidden" name="longitude" id="lng" value="">
                        <button type="submit" class="locate__button-findme">Find ME</button>
                     </form>
                     <button href="#" class="locate__button-search">Search</button>
                  </div>

                  <div class="location__map">
                     <p>MAP EMBED HERE</p>
                     
                     <div id='map' style='width: 400px; height: 300px;'></div>

                  </div>
                  
                  <div class="location__table">
                     <!-- Show contents /fetched data in tabular form -->
                  </div>
               </div>
            </div>
         </section>


         <!--==================== CREDITS ====================-->
         <section class="credits" id="credits">
            <div class="credits__container container">
               <div class="credits__content">

                  <h2 class="credits__title">Earn Credits & Analyze Your E-Waste</h2>

                  <div class="credits__search">
                     <label class="credits__label" for="item">Enter device name/ model number: </label>
                     <br>
                     <input class="credits__input" type="text" id="item" name="item" placeholder="e.g., AAA Battry, MK867kS">
                  
                     <button href="#" class="credits__button-search">Search</button>
                  </div>

                  <div class="credits__info">
                     <!-- information about e-waste goes here -->
                     <div class="info__container">
                        <div class="">

                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </section>

         <!--==================== REDEEM ====================-->
         <section class="redeem" id="redeem">
            <div class="redeem__container container">
               <div class="redeem__content">
                  <h2 class="redeem__title">Redeem your credits</h2>
                  <p class="redeem__subtitle">Use your credit points to redeem them for these incredible handcrafted and beautifully designed sustainable products. Explore our selection of environmentally friendly items, everyday essentials and more.</p>
               </div>

               <div class="redeem__items container">
                  <div class="card__container">

                     <div class="card">
                        <img src="assets/img/card-img-1.png" alt="">
                        <h2>Homemeade Garden Diary</h2>
                        <p>Writing Notebook, Recycled Handmade Paper, Ecofriendly Sustainable gift, Leaf Imprints, Colourful gift, with Rope</p>
                        <button href="#" class="credits__button-price">100 Credits</button>                       
                     </div>
                     <div class="card">
                        <img src="assets/img/card-img-2.png" alt="">
                        <h2>Cotton Quilted Tote Bag</h2>
                        <p>Indian handmade shoulder cotton quilted tote bag beautiful large multicolor eco friendly sustainable boho bag</p>
                        <button href="#" class="credits__button-price">150 Credits</button>
                     </div>
                     <div class="card">
                        <img src="assets/img/card-img-3.png" alt="">
                        <h2>Rattan Basket With Lid</h2>
                        <p>Handmade Rattan basket, basket storage,storage and organization, fruit basket, gifts basket sustainable gifts</p>
                        <button href="#" class="credits__button-price">50 Credits</button>
                     </div>
                  </div>
               </div>
            </div>
         </section>
      </main>

      <!--==================== FOOTER ====================-->
      <div class="footer__container" id="footer">
         <div class="footer__text">
            <p>An initiative by</p>
            <h3>Ministry of Environment</h3>
         </div>

         <div class="social__icons">
            <a target="_blank" href="https://moef.gov.in/">
               <img class="footer__social-icon" src="/assets/img/website.png" alt="">
            </a>
            <a target="_blank" href="https://twitter.com/moefcc">
               <img class="footer__social-icon" src="/assets/img/twitter.png" alt="">
            </a>
            <a target="_blank" href="https://www.instagram.com/moefccgoi/">
               <img class="footer__social-icon" src="/assets/img/instagram.png" alt="">
            </a>
            <a target="_blank" href="https://www.youtube.com/channel/UCCl94zd6YfuUrv9DJz_5RcA">
               <img class="footer__social-icon" src="/assets/img/youtube.png" alt="">
            </a>
            <a target="_blank" href="https://www.facebook.com/moefcc/">
               <img class="footer__social-icon" src="/assets/img/facebook.png" alt="">
            </a>
         </div>

         <div class="footer__nav">
            <ul>
               <li>
                  <a href="#" class="footer__links">Home</a>
                  <a href="#" class="footer__links">News</a>
                  <a href="#" class="footer__links">Partner</a>
                  <a href="#" class="footer__links">Locate</a>
                  <a href="#" class="footer__links">Issues</a>
               </li>
            </ul>
         </div>

         <div class="footer__copyright">
            <p>Copyright &copy;2023 <span>TeamGriffith</span></p>
         </div>
      </div>


      <!--=============== MAIN JS ===============-->
      <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
      <script>
            mapboxgl.accessToken = 'pk.eyJ1IjoidGl0YW5pdW01OTYiLCJhIjoiY2w2bmIwNWxwMHRqOTNqbzcxNWxzN240ZCJ9.zpgHYiL8reD3OPg-t1_TuQ';
            const map = new mapboxgl.Map({
            container: 'map', // container ID
            // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
            style: 'mapbox://styles/mapbox/streets-v12', // style URL
            center: [-24, 42], // starting center in [lng, lat]
            zoom: 1 // starting zoom
            });
            
            // Add geolocate control to the map.
            map.addControl(
            new mapboxgl.GeolocateControl({
            positionOptions: {
            enableHighAccuracy: true
            },
            // When active the map will receive updates to the device's location as it changes.
            trackUserLocation: true,
            // Draw an arrow next to the location dot to indicate which direction the device is heading.
            showUserHeading: true
            })
            );
    </script>
    <!-- <script>
        function onGeoSuccess (position) {
        var lat = position.coords.latitude;
        var lng = position.coords.longitude;

        // NEXT 2 LINES WILL SET VALUE OF RESPECTIVE INPUTS
        document.getElementById("lat").value = lat;
        document.getElementById('lng').value = lng;
    }

    function onGeoError (err) {
        console.error("Error while trying to get position", err);
    }

    function onFormSubmit () {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError);
        } else {
            alert('GeoLocation not supported or not allowed');
        }
    }
    </script> -->
    <script>
        function onGeoSuccess (position) {
            var lat = position.coords.latitude;
            var lng = position.coords.longitude;

            // NEXT 2 LINES WILL SET VALUE OF RESPECTIVE INPUTS
            document.getElementById("lat").value = lat;
            document.getElementById('lng').value = lng;
        }

        function onGeoError (err) {
            console.error("Error while trying to get position", err);
        }
        document.addEventListener("DOMContentLoaded", function() {
            if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError);
        } else {
            alert('GeoLocation not supported or not allowed');
        }
});
    </script>
             
      <script src="assets/js/main.js"></script>
   </body>
</html>